(this["webpackJsonpgoit-react-hw-04-movies-2"]=this["webpackJsonpgoit-react-hw-04-movies-2"]||[]).push([[0],{38:function(t,e,n){},39:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),a=n(32),s=n.n(a),i=n(8),o=n(2),u=(n(38),"/movies"),j="/search",h="/movies/:movieId",p=(n(39),n(0)),l=function(){return Object(p.jsxs)("nav",{children:[Object(p.jsx)(i.b,{className:"nav-btn",to:u,children:"Home"}),Object(p.jsx)(i.b,{className:"nav-btn",to:j,children:"Movies"})]})},b=function(){return Object(p.jsx)("header",{className:"AppBar",children:Object(p.jsx)(l,{})})},v=n(4),d=n.n(v),f=n(10),O=n(11),m=n(12),x=n(14),w=n(13),y=n(17),g=n.n(y),k="22dbeccf11c596f9a21f43b1ed86f3d0",S="https://api.themoviedb.org/3",_={fetchMovies:function(){var t=Object(f.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(S,"/trending/all/day?api_key=").concat(k));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),fetchById:function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(S,"/movie/").concat(e,"?api_key=").concat(k));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fetchCast:function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(S,"/movie/").concat(e,"/credits?api_key=").concat(k));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fetchReviews:function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(S,"/movie/").concat(e,"/reviews?api_key=").concat(k));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(t){t.title,t.name;return Object(p.jsx)("div",{})},C=function(t){var e=t.movies,n=t.location;return Object(p.jsx)("ul",{children:e.map((function(t){var e=t.id,r=t.title,c=t.name,a=t.poster_path;return Object(p.jsx)("li",{children:Object(p.jsxs)(i.b,{to:{pathname:"/movies/".concat(e),state:{from:n}},children:[Object(p.jsx)(A,{title:r,name:c,poster_path:a}),r||c]})},e)}))})},M=function(t){Object(x.a)(n,t);var e=Object(w.a)(n);function n(){var t;Object(O.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={movies:[]},t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=Object(f.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.fetchMovies();case 2:e=t.sent,this.setState({movies:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Trending today"}),Object(p.jsx)(C,{movies:this.state.movies})]})}}]),n}(r.Component),I=n(22),N=function(t){var e=t.cast;return Object(p.jsx)("ul",{children:e.map((function(t){var e=t.character,n=t.id,r=t.name,c=(t.original_name,t.profile_path);return Object(p.jsxs)("li",{children:[Object(p.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w200").concat(c),alt:r}),Object(p.jsxs)("p",{children:["Actor: ",r]}),Object(p.jsxs)("p",{children:["Character: ",e]})]},n)}))})},B=function(t){var e=t.reviews;return Object(p.jsx)("ul",{children:e.map((function(t){var e=t.id,n=t.author,r=t.content;return Object(p.jsxs)("li",{children:[Object(p.jsxs)("h3",{children:["Author: ",n]}),Object(p.jsx)("p",{children:r})]},e)}))})},D=function(t){Object(x.a)(n,t);var e=Object(w.a)(n);function n(){var t;Object(O.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={pathState:{}},t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t;this.setState({pathstate:null===(t=this.props.location)||void 0===t?void 0:t.state})}},{key:"render",value:function(){var t=this.props,e=t.match,n=t.cast,r=t.reviews;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{children:"Additional Information"}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(i.b,{to:{pathname:"".concat(e.url,"/cast"),state:{from:this.state.pathState.from}},children:"Cast"})}),Object(p.jsx)("li",{children:Object(p.jsx)(i.b,{to:{pathname:"".concat(e.url,"/reviews"),state:{from:this.state.pathState.from}},children:"Reviews"})})]}),Object(p.jsxs)("div",{children:[n&&Object(p.jsx)(o.a,{path:"".concat(e.url,"/cast"),render:function(){return Object(p.jsx)(N,{cast:n})}}),Object(p.jsx)(o.a,{path:"".concat(e.url,"/reviews"),render:function(){return Object(p.jsx)(B,{reviews:r})}})]})]})}}]),n}(r.Component),R=function(t){Object(x.a)(n,t);var e=Object(w.a)(n);function n(){var t;Object(O.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={movie:{},genreName:"",cast:[],reviews:[]},t.handleGoBack=function(){},t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=Object(f.a)(d.a.mark((function t(){var e,n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match.params.movieId,t.next=3,_.fetchById(e);case 3:return n=t.sent,this.setState({movie:n}),this.setState({genreName:this.state.movie.genres.map((function(t){return t.name})).join(" ")}),t.next=8,_.fetchCast(e);case 8:return r=t.sent,this.setState({cast:r}),t.next=12,_.fetchReviews(e);case 12:c=t.sent,this.setState({reviews:c});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.movie,n=e.title,r=e.poster_path,c=e.id,a=e.backdrop_path,s=e.vote_average,i=(e.genres,e.overview);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{type:"button",children:"go back"}),Object(p.jsx)("h2",{children:n}),Object(p.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500","/").concat(a||r),alt:"Poster of ".concat(n)}),Object(p.jsxs)("p",{children:["User score: ",10*s," %"]}),Object(p.jsx)("h3",{children:"Overview"}),Object(p.jsx)("p",{children:i}),Object(p.jsx)("h3",{children:"Genres"}),c&&Object(p.jsx)("p",{children:this.state.genreName})]}),Object(p.jsx)("div",{children:c&&Object(p.jsx)(o.a,{path:this.props.match.path,render:function(e){return Object(p.jsx)(D,Object(I.a)(Object(I.a)({},e),{},{cast:t.state.cast,reviews:t.state.reviews}))}})})]})}}]),n}(r.Component),F=function(t){Object(x.a)(n,t);var e=Object(w.a)(n);function n(){var t;Object(O.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={},t}return Object(m.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:" Search "})})}}]),n}(r.Component),G=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(b,{}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:u,component:M}),Object(p.jsx)(o.a,{path:j,component:F}),Object(p.jsx)(o.a,{path:h,component:R})]})]})};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(i.a,{children:Object(p.jsx)(G,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.45cf3fdd.chunk.js.map