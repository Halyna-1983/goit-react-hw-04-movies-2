(this["webpackJsonpgoit-react-hw-04-movies-2"]=this["webpackJsonpgoit-react-hw-04-movies-2"]||[]).push([[0],{37:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(31),s=n.n(a),i=n(9),o=n(2),u=(n(37),"/movies"),j="/search",h="/movies/:movieId",p=n(1),v=function(){return Object(p.jsxs)("nav",{children:[Object(p.jsx)(i.b,{to:u,children:"Home"}),Object(p.jsx)(i.b,{to:j,children:"Movies"})]})},b=function(){return Object(p.jsx)("header",{className:"AppBar",children:Object(p.jsx)(v,{})})},d=n(8),l=n.n(d),f=n(10),m=n(12),O=n(13),x=n(15),y=n(14),g=n(21),w=n.n(g),k="22dbeccf11c596f9a21f43b1ed86f3d0",_="https://api.themoviedb.org/3",M={fetchMovies:function(){var e=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(_,"/trending/all/day?api_key=").concat(k));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fetchById:function(){var e=Object(f.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(_,"/movie/").concat(t,"?api_key=").concat(k));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(e){e.title,e.name;return Object(p.jsx)("div",{})},S=function(e){var t=e.movies,n=e.location;return Object(p.jsx)("ul",{children:t.map((function(e){var t=e.id,r=e.title,c=e.name,a=e.poster_path;return Object(p.jsx)("li",{children:Object(p.jsxs)(i.b,{to:{pathname:"/movies/".concat(t),state:{from:n}},children:[Object(p.jsx)(I,{title:r,name:c,poster_path:a}),r||c]})},t)}))})},A=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={movies:[]},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.fetchMovies();case 2:t=e.sent,this.setState({movies:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Trending today"}),Object(p.jsx)(S,{movies:this.state.movies})]})}}]),n}(r.Component),B=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={movie:{},genreName:""},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,M.fetchById(t);case 3:n=e.sent,this.setState({movie:n}),this.setState({genreName:this.state.movie.genres.map((function(e){return e.name})).join(" ")});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movie,t=e.title,n=e.poster_path,r=e.backdrop_path,c=e.vote_average,a=(e.genres,e.overview);return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:t}),Object(p.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500","/").concat(r||n),alt:"Poster of ".concat(t)}),Object(p.jsxs)("p",{children:["User score: ",10*c," %"]}),Object(p.jsx)("h3",{children:"Overview"}),Object(p.jsx)("p",{children:a}),Object(p.jsx)("h3",{children:"Genres"}),Object(p.jsx)("p",{children:this.state.genreName})]})}}]),n}(r.Component),N=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(O.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:" Search "})})}}]),n}(r.Component),C=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(b,{}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:u,component:A}),Object(p.jsx)(o.a,{path:j,component:N}),Object(p.jsx)(o.a,{path:h,component:B})]})]})};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(i.a,{children:Object(p.jsx)(C,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.24c1000a.chunk.js.map