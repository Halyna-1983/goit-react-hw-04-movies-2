(this["webpackJsonpgoit-react-hw-04-movies-2"]=this["webpackJsonpgoit-react-hw-04-movies-2"]||[]).push([[2],{36:function(t,e,r){"use strict";var n=r(32),a=r.n(n),c=r(33),s=r(39),i=r.n(s),o="22dbeccf11c596f9a21f43b1ed86f3d0",u="https://api.themoviedb.org/3",p=function(){var t=Object(c.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/trending/all/day?api_key=").concat(o));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/movie/").concat(e,"?api_key=").concat(o));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/movie/").concat(e,"/credits?api_key=").concat(o));case 2:return r=t.sent,t.abrupt("return",r.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/movie/").concat(e,"/reviews?api_key=").concat(o));case 2:return r=t.sent,t.abrupt("return",r.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("".concat(u,"/search/movie?api_key=").concat(o,"&query=").concat(e));case 2:return r=t.sent,t.abrupt("return",r.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a={fetchMovies:p,fetchById:h,fetchCast:j,fetchReviews:l,searchMovies:f}},68:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r.r(e),r.d(e,"default",(function(){return y}));var s=r(32),i=r.n(s),o=r(33),u=r(34),p=r(35),h=r(38),j=r(37),l=r(0),f=r(2),v=r(36),b=r(9),d=r(1),O=function(t){var e=t.cast;return Object(d.jsx)("ul",{children:e.map((function(t){var e=t.character,r=t.id,n=t.name,a=(t.original_name,t.profile_path);return Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w200").concat(a),alt:n}),Object(d.jsxs)("p",{children:["Actor: ",n]}),Object(d.jsxs)("p",{children:["Character: ",e]})]},r)}))})},m=function(t){var e=t.reviews;return Object(d.jsx)("ul",{children:e.map((function(t){var e=t.id,r=t.author,n=t.content;return Object(d.jsxs)("li",{children:[Object(d.jsxs)("h3",{children:["Author: ",r]}),Object(d.jsx)("p",{children:n})]},e)}))})},x=function(t){Object(h.a)(r,t);var e=Object(j.a)(r);function r(){var t;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={pathState:{}},t}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var t;this.setState({pathstate:null===(t=this.props.location)||void 0===t?void 0:t.state})}},{key:"render",value:function(){var t=this.props,e=t.match,r=t.cast,n=t.reviews;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Additional Information"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(b.b,{to:{pathname:"".concat(e.url,"/cast"),state:{from:this.state.pathState.from}},children:"Cast"})}),Object(d.jsx)("li",{children:Object(d.jsx)(b.b,{to:{pathname:"".concat(e.url,"/reviews"),state:{from:this.state.pathState.from}},children:"Reviews"})})]}),Object(d.jsxs)("div",{children:[r&&Object(d.jsx)(f.a,{path:"".concat(e.url,"/cast"),render:function(){return Object(d.jsx)(O,{cast:r})}}),n&&Object(d.jsx)(f.a,{path:"".concat(e.url,"/reviews"),render:function(){return Object(d.jsx)(m,{reviews:n})}})]})]})}}]),r}(l.Component),w=r(7),y=function(t){Object(h.a)(r,t);var e=Object(j.a)(r);function r(){var t;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={movie:{},genreName:"",cast:[],reviews:[]},t.handleGoBack=function(){var e,r=t.props,n=r.history,a=r.location;n.push((null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.from)||w.a.movies)},t}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var t=Object(o.a)(i.a.mark((function t(){var e,r,n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match.params.movieId,t.next=3,v.a.fetchById(e);case 3:return r=t.sent,this.setState({movie:r}),this.setState({genreName:this.state.movie.genres.map((function(t){return t.name})).join(" ")}),t.next=8,v.a.fetchCast(e);case 8:return n=t.sent,this.setState({cast:n}),t.next=12,v.a.fetchReviews(e);case 12:a=t.sent,this.setState({reviews:a});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.movie,r=e.title,n=e.poster_path,a=e.id,s=e.backdrop_path,i=e.vote_average,o=(e.genres,e.overview);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{type:"button",onClick:this.handleGoBack,children:"go back"}),Object(d.jsx)("h2",{children:r}),Object(d.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500","/").concat(s||n),alt:"Poster of ".concat(r)}),Object(d.jsxs)("p",{children:["User score: ",10*i," %"]}),Object(d.jsx)("h3",{children:"Overview"}),Object(d.jsx)("p",{children:o}),Object(d.jsx)("h3",{children:"Genres"}),a&&Object(d.jsx)("p",{children:this.state.genreName})]}),Object(d.jsx)("div",{children:a&&Object(d.jsx)(f.a,{path:this.props.match.path,render:function(e){return Object(d.jsx)(x,c(c({},e),{},{cast:t.state.cast,reviews:t.state.reviews}))}})})]})}}]),r}(l.Component)}}]);
//# sourceMappingURL=movie-details-view.28f2dde1.chunk.js.map